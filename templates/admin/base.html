{% extends "admin/base.html" %}
{% load i18n %}

{% block usertools %}
  <div style="display:inline-flex; align-items:center; gap:8px; float:right; margin-right:10px;">
    <form action="{% url 'set_language' %}" method="post" style="display:inline;">
      {% csrf_token %}
      <input type="hidden" name="next" value="{{ request.get_full_path }}">
      {% get_current_language as LANGUAGE_CODE %}
      {% get_available_languages as LANGUAGES %}
      <select name="language"
              onchange="this.form.submit()"
              style="
                padding:3px 10px;
                border-radius:8px;
                font-size:13px;
                background:#0f172a;
                color:#fff;
                border:1px solid rgba(255,255,255,0.25);
                outline:none;
              ">
        {% for lang_code, lang_name in LANGUAGES %}
          <option value="{{ lang_code }}" {% if lang_code == LANGUAGE_CODE %}selected{% endif %}>
            {{ lang_name }}
          </option>
        {% endfor %}
      </select>
    </form>
  </div>

  {{ block.super }}
{% endblock %}
